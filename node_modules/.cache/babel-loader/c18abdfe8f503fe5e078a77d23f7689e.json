{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/chris/Documents/BlockchainProjects/hackathon/auditorFrontEnd/pages/components/landingPage.js\";\nimport React from 'react';\nimport { Container, Form, TextArea, Grid } from 'semantic-ui-react'; //import Auditor from '../auditor/Auditor';\n\nimport Head from 'next/head';\nimport Header from './Header';\nimport LandingPageSection1 from './Sections/landingPageSection1';\nimport LandingPageSection2 from './Sections/landingPageSection2';\n\nvar landingPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(landingPage, _React$Component);\n\n  function landingPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, landingPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(landingPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      currentCompiler: '',\n      contractCode: '',\n      creationCost: '',\n      executionCost: '',\n      gasEstimate: '',\n      timeOfAudit: '',\n      fileSize: '',\n      vunerabiltiesFound: '',\n      noOfLines: '',\n      percent: '',\n      errorMessage: '',\n      successMessage: '',\n      loading: false //get Time of Audit\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setTimeOfAudit\", function () {\n      var today = new Date();\n      var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n      var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n      var dateTime = date + ' ' + time;\n\n      _this.setState({\n        timeOfAudit: dateTime\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectCompiler\", function (compiler) {\n      _this.setState({\n        currentCompiler: compiler\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"storeContractCodeToState\", function (contractCode) {\n      _this.setState({\n        contractCode: contractCode\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeErrorMessage\", function () {\n      _this.setState({\n        errorMessage: '',\n        successMessage: '',\n        percent: '0'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function () {\n      if (_this.state.currentCompiler) {\n        _this.setTimeOfAudit();\n\n        var self = _assertThisInitialized(_this);\n\n        _this.setState({\n          loading: true,\n          errorMessage: '',\n          successMessage: ''\n        });\n\n        var source = _this.state.contractCode; //printlist of available compilers\n        // BrowserSolc.getVersions(function(soljsonSources, soljsonReleases) {\n        //   //console.log(soljsonSources);\n        //   //console.log(soljsonReleases);\n        // });\n        //Load a specific compiler version\n\n        BrowserSolc.loadVersion.bind(_assertThisInitialized(_this))(_this.state.currentCompiler, function (compiler) {\n          var optimize = 1;\n          var result = compiler.compile(source, optimize);\n          var totalGasCost = result.contracts[\":Migrations\"].gasEstimates.creation[0] + result.contracts[\":Migrations\"].gasEstimates.creation[1];\n\n          if (result.errors) {\n            self.setState({\n              errorMessage: result.errors[0]\n            });\n          } else {\n            self.setState({\n              noOfLines: dataArray.length,\n              creationCost: result.contracts[\":Migrations\"].gasEstimates.creation[0],\n              executionCost: result.contracts[\":Migrations\"].gasEstimates.creation[1],\n              gasEstimate: totalGasCost,\n              percent: 100,\n              successMessage: \"Audit Complete!\"\n            });\n          }\n\n          console.log(result.contracts[\":Migrations\"].gasEstimates.creation);\n        });\n      } else {\n        _this.setState({\n          errorMessage: \"Please select a compiler\"\n        });\n      }\n\n      _this.setState({\n        loading: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(landingPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        style: {\n          width: '1230px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(LandingPageSection1, {\n        contractCode: this.state.contractCode,\n        removeErrorMessage: this.removeErrorMessage,\n        loading: this.state.loading,\n        successMessage: this.state.successMessage,\n        errorMessage: this.state.errorMessage,\n        percent: this.state.percent,\n        storeContractCodeToState: this.storeContractCodeToState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(Grid.Column, {\n        width: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(LandingPageSection2, {\n        gasEstimate: this.state.gasEstimate,\n        removeErrorMessage: this.removeErrorMessage,\n        loading: this.state.loading,\n        noOfLines: this.state.noOfLines,\n        timeOfAudit: this.state.timeOfAudit,\n        vunerabiltiesFound: this.state.vunerabiltiesFound,\n        onSubmit: this.onSubmit,\n        selectCompiler: this.selectCompiler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return landingPage;\n}(React.Component);\n\nexport default landingPage;","map":{"version":3,"sources":["/Users/chris/Documents/BlockchainProjects/hackathon/auditorFrontEnd/pages/components/landingPage.js"],"names":["React","Container","Form","TextArea","Grid","Head","Header","LandingPageSection1","LandingPageSection2","landingPage","currentCompiler","contractCode","creationCost","executionCost","gasEstimate","timeOfAudit","fileSize","vunerabiltiesFound","noOfLines","percent","errorMessage","successMessage","loading","today","Date","date","getFullYear","getMonth","getDate","time","getHours","getMinutes","getSeconds","dateTime","setState","compiler","state","setTimeOfAudit","self","source","BrowserSolc","loadVersion","bind","optimize","result","compile","totalGasCost","contracts","gasEstimates","creation","errors","dataArray","length","console","log","width","removeErrorMessage","storeContractCodeToState","onSubmit","selectCompiler","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Container, Form, TextArea, Grid } from 'semantic-ui-react';\n//import Auditor from '../auditor/Auditor';\nimport Head from 'next/head';\nimport Header from './Header';\nimport LandingPageSection1 from './Sections/landingPageSection1';\nimport LandingPageSection2 from './Sections/landingPageSection2';\n\n\nclass landingPage extends React.Component{\n\n\tstate = {\n\t\tcurrentCompiler:'',\n\t\tcontractCode:'',\n\t\tcreationCost:'',\n\t\texecutionCost:'',\n\t\tgasEstimate:'',\n\t\ttimeOfAudit:'',\n\t\tfileSize: '',\n\t\tvunerabiltiesFound: '',\n\t\tnoOfLines: '',\n\t\tpercent:'',\n\t\terrorMessage:'',\n\t\tsuccessMessage:'',\n\t\tloading:false\n\t}\n\n\t//get Time of Audit\n\tsetTimeOfAudit=()=>{\n\n\t\tlet today = new Date();\n\t\tlet date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\n\t\tlet time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n\t\tlet dateTime = date+' '+time;\n\n\t\tthis.setState({\n\t\t\ttimeOfAudit: dateTime\n\t\t})\n\t}\n\n\t//receive compiler version from child component-landingPageSection1 and store it to state\n\tselectCompiler =(compiler)=>{\n\t\tthis.setState({\n\t\t\tcurrentCompiler:compiler\n\t\t})\n\t}\n\n\t//receive contract code from child component-landingPageSection2 and store it to state\n\tstoreContractCodeToState=(contractCode)=>{\n\t\tthis.setState({\n\t\t\tcontractCode: contractCode\n\t\t})\n\t}\n\n\tremoveErrorMessage=()=>{\n\t\tthis.setState({\n\t\t\terrorMessage: '',\n\t\t\tsuccessMessage:'',\n\t\t\tpercent:'0'\n\t\t})\n\t}\n\n\t//Compile contract and run audit\n\tonSubmit =()=>{\n\t\tif(this.state.currentCompiler){\n\t\tthis.setTimeOfAudit();\n\t\tlet self = this;\n\n\t\tthis.setState({\n\t\t  \t\tloading: true,\n\t\t  \t\terrorMessage:'',\n\t\t  \t\tsuccessMessage:''\n\t\t  \t})\n\t\tlet source = this.state.contractCode;\n\t\t\n\t\t//printlist of available compilers\n\t\t// BrowserSolc.getVersions(function(soljsonSources, soljsonReleases) {\n\t\t//   //console.log(soljsonSources);\n\t\t//   //console.log(soljsonReleases);\n\t\t// });\n\n\t\t//Load a specific compiler version\n\t\tBrowserSolc.loadVersion.bind(this)(this.state.currentCompiler, function(compiler){\n\t\t\n\t\t  let optimize = 1;\n\t\t  let result = compiler.compile(source, optimize);\n\t\t  let totalGasCost = result.contracts[\":Migrations\"].gasEstimates.creation[0]+result.contracts[\":Migrations\"].gasEstimates.creation[1];\n\t\t  if(result.errors){\n\n\t\t  \tself.setState({\n\t\t  \t\terrorMessage: result.errors[0]\n\t\t  \t})\n\t\t  }else{\n\t\t  \tself.setState({\n\t\t  \t\tnoOfLines:dataArray.length,\n\t\t  \t\tcreationCost:result.contracts[\":Migrations\"].gasEstimates.creation[0],\n\t\t  \t\texecutionCost:result.contracts[\":Migrations\"].gasEstimates.creation[1],\n\t\t  \t\tgasEstimate : totalGasCost,\n\t\t  \t\tpercent: 100,\n\t\t  \t\tsuccessMessage:\"Audit Complete!\"\n\t\t  \t})\n\n\t\t  }\n\t\t  console.log(result.contracts[\":Migrations\"].gasEstimates.creation);\n\t\t});\n\n\t}else{\n\t\tthis.setState({\n\t\t\terrorMessage:\"Please select a compiler\"\n\t\t})\n\n\t}\n\n\t\tthis.setState({\n\t\t  \t\tloading: false\n\t\t  \t})  \n\t}\n\n\n\trender(){\n\n\t\treturn(\n\t\t\t<Container style={{width:'1230px'}}>\n\t\t\t  <Header/>\n\t\t\t\t<Grid>\n\t\t\t\t    <Grid.Row>\n\n\t\t\t\t\t      <Grid.Column width={12}>\n\t\t\t\t\t      <LandingPageSection1\n\t\t\t\t\t      contractCode = {this.state.contractCode}\n\t\t\t\t\t      removeErrorMessage = {this.removeErrorMessage}\n\t\t\t\t\t      loading = {this.state.loading}\n\t\t\t\t\t      successMessage = {this.state.successMessage}\n\t\t\t\t\t      errorMessage = {this.state.errorMessage}\n\t\t\t\t\t      percent = {this.state.percent}\n\t\t\t\t\t      storeContractCodeToState = {this.storeContractCodeToState}\n\t\t\t\t\t      />\n\t\t\t\t\t      </Grid.Column>\n\n\n\t\t\t\t\t      <Grid.Column width={4}>\n\t\t\t\t\t      <LandingPageSection2 \n\t\t\t\t\t      gasEstimate = {this.state.gasEstimate}\n\t\t\t\t\t      removeErrorMessage = {this.removeErrorMessage}\n\t\t\t\t\t      loading = {this.state.loading}\n\t\t\t\t\t      noOfLines = {this.state.noOfLines}\n\t\t\t\t\t      timeOfAudit = {this.state.timeOfAudit}\n\t\t\t\t\t      vunerabiltiesFound = {this.state.vunerabiltiesFound}\n\t\t\t\t\t      onSubmit ={this.onSubmit}\n\t\t\t\t\t      selectCompiler = {this.selectCompiler}\n\t\t\t\t\t      />\n\t\t\t\t\t      </Grid.Column>\n\n\t\t\t\t    </Grid.Row>\n\t\t\t    </Grid>\n\t\t  </Container>\n\t\t  )\n\n\t}\n}\n\nexport default landingPage;"]},"metadata":{},"sourceType":"module"}